# 3주차
# 06. 객체 지도

page. 177 ~ 206

### 길을 직접 알려주는 방법

**기능적이고 해결 방법 지향적인 접근법**

재사용 불가능

이해하기 어려움

변경에 취약

### 지도를 이용하는 방법

**구조적이고 문제 지향적인 접근법**

재사용 가능 , 범용

이해하기 쉬움

변경에 안정적

이처럼 변경이 빈번하게 발생하는 기능은 안정적인 구조에 종속시켜야한다

객체지향 - 범용적, 재사용성 높음, 변경에 안정적 - 구조 기반

구조에 따라 역할, 책임, 협력을 구성하라!

## 기능 설계 대 구조 설계

구조적 설계는 사용자의 변하는 요구사항을 반영할 수 있도록 쉽게 확장 가능한 소프트웨어를 창조할 수 있는 기반이 된다

요구사항은 항상 변경된다!!

좋은 설계는 변경때문에 필요하다.

약속한 기능을 설게하면서 변경될지도 모르니 유연한 코드를 창조해야한다.

변경에 대비하여 코드를 짜야하지만 그 변경이 무엇일지 예측하여 짜는 것은 아니다. 그저 변경될 수 있다는 점만 염두에 두고 대비한다.

변경을 염두에 두는 좋은 방법

→ 자주 변경되는 기능이 아닌 안정적인 구조를 중심으로 설계하는 것

## 두 가지 재료: 기능과 구조

### 기능

사용자의 목표를 만족시키기위해 책임을 수행하는 시스템의 행위로 표현

사용자가 자신의 목표를 달성하기 위해 사용할 수 있는 시스템의 서비스

기법 - 유스케이스 모델링

### 구조

사용자나 이해관계자들이 도메인에 관해 생각하는 개념과 개념들 간의 관계로 표현

시스템의 기능을 구현하기 위한 기반, 기능 변경을 수용할 수 있도록 안정적이어야함

기법 - 도메인 모델링

## 안정적인 재료: 구조

### 도메인 모델

도메인: 사용자가 프로그램을 사용하는 대상 분야

모델: 대상을 단순화해서 표현한 것

도메인 모델: 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태

소프트웨어 개발과 관련된 이해관계자들이 도메인에 대해 생각하는 관점

도메인 모델 - 이해관계자들의 멘탈모델!

멘탈모델 - (노먼)

- 디자인 모델 - 설계자가 마음소게 갖고 있는 시스템
- 사용자 모델 - 사용자가 제품에 대해 가지고 있는 개념들
- 시스템 이미지 - 최종 제품

설계자는 디자인 모델을 기반으로 만든 시스템 이미지가 사용자 모델을 정확히 반영하도록 노력해야한다.

도메인 모델은 소프트웨어에 대한 멘탈모델

### 도메인의 모습을 담을 수 있는 객체지향

객체지향의 연결 완전성/표현적 차이: 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지 모두가 유사한 모습을 유지하도록 만들 수 있게 한다.

### 표현적 차이

표현적 차이/ 의미적 차이: 소프트웨어와 현실 객체 사이의 의미적 거리

소프트웨어 객체가 도메인 객체들을 기반으로 설계되면 사용자가 도메인을 바라보는 관점을 그대로 코드에 반영할 수 있게 하여 표현적 차이도 줄어들고 사용자의 멘탈 모델이 그대로 코드에 담긴다.

### 불안정한 기능을 담는 안정적인 도메인 모델

도메인 모델이 제공하는 구조는 안정적이다.

## 불안정한 재료: 기능

### 유스케이스

기능적 요구사항=시스템이 사용자에게 제공해야하는 기능의 목록

사용자의 목표 달성을 위해 사용자와 시스템 간 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것! → 유스케이스

문맥 제공-기능의 유기적 관계

### 유스케이스의 특성

1. 유스케이스 내의 상호작용의 흐름이 중요하다.
2. 유스케이스는 여러 시나리오들의 집합이다.
3. 유스케이스는 단순한 기능의 나열이 아니다.
4. 유스케이스는 인터페이스 세부정보를 포함하지 x
5. 유스케이스는 내부 설계에 관한 정보는 포함 x

### 유스케이스는 설계 기법도, 객체지향 기법도 아니다

유스케이스는 사용자 관점!

## 재료 합치기: 기능과 구조의 통합

### 도메인 모델: 유스케이스, 그리고 책임-주도 설계

시스템은 거대한 자율적 객체라고 보면 수행하기로 한 기능은 책임이 되고 받은 메시지를 응답해야한다.

시스템 기능→시스템 책임

- 도메인 모델에 포함된 개념을 은유하는 객체 선택
- 협력을 완성하는 메시지 식별, 객체에게 책임 할당
- 객체구현을 위해 클래스 추가, 속성과 함께 메서드 구현

### 기능 변경을 흡수하는 안정적인 구조

객체지향은 도메인을 모델링하기 위한 기법과 프로그래밍 하기 위한 기법이 동일하다!

모델링의 객체, 개념을 설계에서의 객체와 클래스로 구현가능

→ 연결완전성

그 반대도 성립하는 것

->가역성

# 07. 함께 모으기

page. 207 ~ 229

설계의 관점

개념관점

도메인 내 개념과 개념 사이의 관계 표현

명세관점

소프프웨어 내 객체들의 책임에 초점

구현관점

객체들이 책임을 수행하는 데 필요한 동작하는 코드 작

## 커피 전문점 도메인

### 커피 주문

### 커피 전문점이라는 세상

## 설계하고 구현하기

### 커피를 주문하기 위한 협력 찾기

커뮤니케이션 다이어그램 → 협력표현

uml은 입맛에 맞게 바꿔도 된다.

### 인터페이스 정리하기

객체가 어떤 메시지 수신할수 있다는 건 그 객체의 인터페이스 안에 오퍼레이션이 존재

오퍼레이션은 공용

### 구현하기

## 코드의 세가지 관점

### 코드는 세가지 관점을 모두 제공해야한다

**개념관점:**

도메인 개념의 특성을 반영하면 변경을 관리하기 쉽고 유지보수성을 향상시킬 수 있다

도메인과 소프트웨어 클래스의 차이가 적을수록 기능을 변경하기 수월하다.

**명세관점:**

인터페이스는 수정하기 어렵다

변화에 안정적이려면 구현에 관련한 세부사항은 드러나지 않아야한다.

**구현관점:**

클래스의 메서드와 속성의 변경은 외부에 최대한 영향 x

캡슐화 되어야함!

### 도메인 개념을 창조하는 이유

도메인 지식으로 코드의 구조와 의미를 쉽게 유추가능

→ 변경 쉬움, 유지보수 good

### 인터페이스와 구현을 분리하라

인터페이스가 구현 세부사항을 노출하면 작은 변동에도 위험

명세관점과 구현관점을 분리하는게 중요

명세관점이 설계하면 품질 높아짐

세가지에서 클래스를 바라보려면 훌륭한 설계가 필요