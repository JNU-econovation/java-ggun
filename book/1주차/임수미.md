# 1주차
# 01. 협력하는 객체들의 공동체
	page. 20 ~ 38

객체지향은 실세계를 투영한다고는 하지만 객체와 사물간 직접적으로 대응되는 점을 찾기는 힘들다. 객체지향의 목표는 새로운 세계를 창조하는 것!

but, 현실세계와 비유하는 것이 이해하는데 효과적!

생명체 - 객체 : 상태와 행위를 ‘캡슐화’ 하는 소프트웨어의 ‘자율성’을 설명

ex) 현실에서 암묵적 약속, 명시적 계약 기반으로 협력하여 목표를 달성해가는 과정은 객체지향에서

현실                                                                                 객체지향

1. 스스로 생각, 결정하는 생명체
2. 암묵적 약속, 명시적 계약 기반으로 협력하여 목표를 달성해가는 과정
1. 상태와 행위를 ‘캡슐화’ 하는 소프트웨어 객체의 ‘자율성’
2. ‘메시지’를 주고받으며 공동의 목표를 달성하기 위해 ‘협력’하는 객체

객체지향의 ‘연결완전성’을 설명하기 좋음!

소프트웨어 객체란 실세계 사물의 모방! 이라는 전통적 관점에서 설명하겠다.

# 협력하는 사람들

커피공화국의 아침!

역할, 책임, 협력!

- 손님 -주문하기
- 캐시어 -주문받기
- 바리스타 -커피 제조

손님과 캐시어, 바리스타가 각자 역할과 책임을 다하는 협력관계로 커피가 만들어진다.

### 요청과 응답으로 구성된 협력

문제에 직면 - 문제해결에 필요한 지식을 알고 있거나 서비스를 제공할 수 있는 사람에게 도움 요청(request)

요청은 연쇄적으로 발생한다.

요청 → 또다른요청 → 또또다른요청

= 손님 →(커피주문) → 캐시어 → (커피제조) → 바리스타

요청을 받으면 응답(response) 하고 이 응답 역시 연쇄적으로 발생.

바리스타 → (커피 제조 완료했어요) → 캐시어 → (진동벨 울리기) → 손님

협력의 성공 결정 - 개인이 요청을 얼마나 성실히 이행했는가??

### 역할과 책임

협력과정 속에는 역할이 있다.

역할이란? - 협력 안에서 특정 사람이 차지하는 책임이나 임무

역할은 책임이라는 개념 내포! 사람들은 역할에 적합한 책임을 수행한다.

- 여러 사람이 동일한 역할 수행 가능

  손님은 어떤 바리스타나 캐시어가 주문을 받고 커피를 만들어도 책임만 이행한다면 상관없다.

- 역할은 대체 가능성 의미

  손님 입장에서 캐시어가 둘이라면 둘 중 누구라도 상관없다.

- 책임 수행방법은 자율적

  동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력을 다형성!

- 한 사람이 동시에 여러 역할 수행 가능

  캐시어랑 바리스타는 동일한 사람일 수 있다.


# 역할, 책임, 협력

### 기능을 구현하기 위해 협력하는 객체들

앞서 한 이야기를 객체지향으로 바꾸면

사람 → 객체/ 에이전트의 요청 → 메시지/ 요청을 처리하는 방식 → 메서드

### 역할과 책임을 수행하며 협력하는 객체들

협력의 핵심 - 특정 책임을 수행하는 역할들 간 연쇄적 요청과 응답으로 통해 목표 달성!

현실세계

1. 목표는 사람들의 협력 통해 달성
2. 목표는 더 작은 책임으로 분할
3. 책임을 수행할 수 있는 역할을 가진 사람에 의해 수행
4. 사람들은 책임 수행 위해 도움 요청
5. 연쇄적 요청과 응답으로 구성된 협력관계 완성

객체지향

1. 앱의 기능 구현은 객체들의 협력 통해 달성
2. 앱의 기능은 더 작은 책임으로 분할
3. 책임을 수행할 수 있는 역할을 가진 객체가 수행
4. 객체는 책임 수행위해 도움 요청
5. 연쇄적 요청과 응답으로 구성된 협력관계 완성

객체지향 설계

책임 할당이 중요! 책임이 불분명한 객체는 앱의 미래 역시 불분명하게 만든다.

- 여러 객체가 동일한 역할을 수행 가능
- 역할은 대체 가능성을 의미
- 각 객체는 책임 수행 방법 자율적으로 선택 가능
- 하나의 객체가 동시에 여러역할 수행 가능

역할은 유연하고 재사용가능한 협력관계 구축을 위해 중요함

대체가능한 역할과 책임은 다형성과도 연관되어 있음

# 협력 속에 사는 객체

객체가 존재하지 않는 객체지향은 의미없음

객체지향 앱의 아름다움은 협력이 결정한다면 협력이 얼마나 조화를 잘 이루는지는 객체가 결정함. 협력의 품질을 결정하는 건 객체.

1. 객체는 협력적이어야 한다.

   다른 요청을 받거나 도움을 요청해야한다. (*의존성 주입과 관련되어있지 않을까?)

2. 객체는 자율적이어야 한다.

   공동의 목표를 위해 협력허자먼 협력에 참여하는 방법을 스스로 결정할 수 있도록 자율적이어야한다.


### 상태와 행동을 지닌 자율적인 객체

객체는 상태(State)와 행동(Behavior)을 함께 지닌 실체

객체가 어떤 행동을 하기 위해 필요한 상태를 지니고 있어야한다.

객체의 자율성은 객체의 내부와 외부를 명확히 구분해야함!!

객체 사적부분은 직접관리, 외부간섭 불가, 외부에선 접근이 허락된 수단을 통해서만 객체와 의사소통 해야함.

다른객체가 무엇을 수행하는지는 알아도 어떻게 수행하는지는 모른다.

객체는 상태와 행위를 하나의 단위로 묶는 자율적 존재.

자율적 객체로 구성된 공동체는 유지보수가 쉽고  재사용이 용이한 시스템을 구축할 수 있다.

### 협력과 메시지

인간세계는 풍부한 메커니즘을 통해 요청하고 응답할 수 있지만

객체지향에는 메시지라는 한가지 의사소통 수단만 존재한다.

메시지를 전송하는 객체 - 송신자, 메시지를 수신하는 객체 - 수신자

### 메서드와 자율성

메서드 : 객체가 수신된 메시지를 처리하는 방법

수신자가 실행시간에 메서드를 선택할 수 있다는 점! 객체지향의 핵심특징 중1

메시지와 메서드의 분리는 자율성을 증진시킨다.

커피 제조 요청한 캐시어는 커피는 받지만 제조 방법에 대해서는 관여하지 않음

캡슐화와 관련! - 메시지와 메서드의 분리!

# 객체지향의 본질

- 객체지향이란? 시스템을 상호작용하는 자율적인 객체들의 공동체로 바라보고 객체를 이용하여 시스템을 분할하는 방법
- 자율적인 객체란? 상태와 행위를 함께 지니며 스스로 자기자신을 책임지는 객체
- 객체는 다른 객체와 협력한다. 협력내에서 정해진 역할을 수행, 역할은 관련된 책임의 집합
- 객체는 메시지를 전송, 메시지를 수신한 객체는 메시지를 처리하기 적합한 객체를 자율적으로 선택

### 객체를 지향하라

클래스의 중요성이 너무 부풀려졌다.

그 결과 사람들은 객체지향의 중심에 있어야할 객체로부터 조금씩 멀어짐.

자바스크립트는 클래스 존재 X, 오직 객체만이 존재. 상속 역시 객체간의 위임!

앱을 협력하는 객체들의 공동체가 아닌 클래스로 구성된 설계도로 보는것은 유연하고 확장가능한 앱의 구축을 방해한다!

협력 구조와 객체의 역할, 책임이 중요! ****객체 지향에서는 객체가 중요****

# 02. 이상한 나라의 객체

	page. 39~71

## 객체지향과 인지 능력

더 작은 객체로 분해하려는 경향이 있다.

객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적, 개념적 경계를 지닌 어떤 것

## 객체, 그리고 이상한 나라

### 이상한 나라의 앨리스

### 앨리스 객체

앨리스의 행동에 따라 상태가 변한다. 행동의 결과를 결정하는것은 상태이다. →결과는 상태에 의존적

행동의 순서도 중요하다

## 객체, 그리고 소프트웨어 나라

객체는 상태, 행동, 식별자를 지닌 실체

### 상태

그 시점까지 객체에 어떤 일이 발생했는냐에 좌우

상태를 알면 과거의 모든 행동이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다.

복잡성 완화, 인지 과부화를 줄일 수 있음

**상태와 프로퍼티**

단순한 값은 객체는 아니지만 객체의 상태를 표현하기 위한 중요한 수단.

떄로는 객체를 사용해 객체의 상태를 표현할 수도 있다.

프로퍼티 : 객체의 상태(단순한 값과 객체의 조합)를 구성하는 모든 특징 →정적

프로퍼티 값 → 동적

2.3에도 선이 있는데,,?

링크 : 객체와 객체 사이의 의미있는 연결, 링크가 있어야만 요청을 주고받을 수 있다.

속성 : 객체를 구성하는 단순한 값

상태는 객체의 구조적 특징을 표현, 프로퍼티는 단순한값과 다른 객체를 참조하느 링크로 구분

객체는 자율적 존재!!

### 행동

**상태와 행동**

객체의 행동에 의해 객체의 상태가 변경된다는 것은 행동이 **부수효과**를 초래한다는 것을 의미

행동은 상태를 변경 / 행동의 결과는 객체의 상태에 의존적

- 객체의 행동은 상태에 영향을 받음
- 객체의 행동은 상태를 변경

**협력과 행동**

협력 → 다른객체에게 요청 보내기 → 행동은 객체가 협력하는 유일한 방법

객체 행동의 부수효과

- 객체 자신의 상태변경
- 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

행동은 외부에 가시적이어야한다.

**상태 캡슐화**

송신자는 수신자의 상태변경에 대해서는 알지 못함

캡슐화 → 자율성 높임 → 객체의 지능 높임 → 협력이 유연하고 간결해짐

### 식별자

식별자 : 객체를 구별할 수 있는 특정한 프로퍼티

모든 객체는 식별자를 가지며 식별자를 이용해 객체 구별 가능

단순한 값은 식별자 x 객체만 가짐

단순한 값과 객체의 차이점을 명시적으로 표현하는 게 중요

값은 불변상태.

값의 상태가 같으면 동일하다. → 동등성

객체는 가변상태, 시간에 따라 변경되는 상태, 행동을 통해 상태를 결정

상태가 똑같더라고 별개의 객체

식별자가 같으면 상태가 달라도 같다고 할 수 있음 → 동일성

**참조객체 or 엔티티** : 식별자를 지닌 객체

********값 객체******** : 식별자를 가지지않은 값

이 책에서는 객체는 식별자를 가지는 객체를 가리킨다.

- 객체는 상태를 가지며 상태는 변경 가능
- 객체의 상태를 변경시키는 건 객체의 행동
    - 행동의 결과는 상태에 의존적
    - 행동의 순서가 실행결과에 영향
- 객체는 어떤 상태에 있더라도 식별 가능

## 기계로서의 객체

쿼리 : 객체의 상태를 조회하는 작업

명령 : 객체의 상태를 변경하는 작업

## 행동이 상태를 결정한다

상태를 먼저 결정하면?

- 캡슐화가 저해됨
- 협력 x
- 재사용성 저하

행동을 먼저 결정해야한다!!

객체의 적합성을 결정하는 것은 객체의 행동! → 행동에 맞는 적절한 상태를 선택

책임-주도 설계 (RDD)

협력 안에서 객체의 행동을 생각하도록 도움 → 응집도 높고 재사용 가능한 객체를 만들 수 있음

## 은유와 객체

### 두번째 도시전설

객체지향은 실제 세계 모방 x, 실제로는 못하는 일도 해낼 수 있음 → 단순화, 추상화가 아니라 그냥 특성이 다름

**의인화**

현실객체

수동적

소프트웨어객체

능동적

의인화 : 현실 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징

**은유**

유사성은 은유에서 표현

현실의 객체로 묘사하면 소프트웨어 객체를 보다 쉽게 이해할 수 있다.

은유관계의 객체의 이름을  소프트웨어 객체의 이름으로 사용하면 표현적 차이를 줄여 쉽게 예측가능 → 이해하기 쉽고 유지보수가 용이한 소프트웨어를 만들 수 있음

현실 세계와 소프트웨어 객체의 차이를 기억하자.

# 03. 타입과 추상화

# 03. 타입과 추상화

	page. 72 ~ 105

단순하고 직관적으로 역 간 네트워크를 표현하는 지하철 노선도! 전 세계 어디를 가도 비슷해서 쉽고 빠르게 이해 가능

필요없는 부분은 빼고 연결성만 표시

정확성을 버리고 **목적**에 집중

!! 꼭 알아야하는 사실만 정확히 표현, 몰라도 되는 정보는 무시!! - 추상화

### 추상화를 통한 복잡성 극복

1: 구체적 사물간 공통점을 취하고 차이점은 버리는 일반화

2: 중요한 부분 강조위해 불필요한 세부사항 제거

추상화의 목적 ! - 복잡성을 이해하기 쉬운 수준으로 단순화하는 것

### 객체지향과 추상화

**모두 트럼프일뿐**

→ 객체들의 유사성을 기반으로 추상화!

**그룹으로 나누어 단순화하기**

트럼프와 토끼!

**개념**

: 공통점을 기반으로 객체들을 묶기 위한 그릇

개념을 이용해 객체를 여러 그룹으로 분류

개념에 맞는 객체가 그 개념 그룹의 일원이 될때 그 객체를 개념의 인스턴스! 라고 표현

**개념의 세가지 관점**

- 심볼 : 개념을 가리키는 간략한 이름/명칭
- 내연 : 개념의 완전한 정의, 내연의 의미를 이용해 객체가 속하는지 판단 가능
- 외연 : 개념에 속하는 모든 객체의 집합

in 앨리스,

심볼 - 트럼프

내연 - 몸 납작, 두손두발이 몸통에 붙어있음

외연 - 정원사, 병사, 신하, 왕자와 공주, 하객, 하트잭, 하트왕, 하트여왕

**객체를 완료하기 위한 틀**

객체에게 적용할 개념 결정 → 해당 객체를 개념이 적용된 객체집합의 멤버로 받아들인다.

객체는 소중하다!!

→ 최대한 직관적으로 분류

**분류는 추상화를 위한 도구다**

개념은 객체들의 복잡성을 극복하기 위한 추상화 도구

### 타입

**타입은 개념이다**

이제부터 개념 → 타입!!

**데이터타입**

타입이 없다!!??

사람들은 메모리 안 데이터에 특정한 의미 부여(숫자형, 문자열형 등등)

타입시스템? → 목적 - 데이터가 잘못사용되지 않도록 제약사항 부과

1. 타입은 데이터가 어떻게 사용되느냐에 관한것이다.
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 감춰진다.

데이터타입 - 메모리안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터. 데이터에 대한 분류는 어떤 종류의 연산이 수행될 수 있는지 결정

**객체와 타입**

객체지향에서 우리는 객체를 일종의 데이터처럼 사용

객체를 타입에 따라 분류하고 타입에 이름붙이는건 프로그램에서 사용할 데이터 타입을 선언하는것과 동일

상태도 모으면 앱에서 관리해야하는 전체 데이터 표현가능

그렇다고 객체가 데이터는 아니다!!

객체의 행동이 중요하다고 말했었다.

1. 어떤 객체가 어떤 타입이다! → 어떤 객체들이 동일한 행동을 수행할 수 있으면 그들은 동일한 타입!
2. 객체의 내부표현은 외부로부터 철저히 감춰짐

**행동이 우선이다**

객체 내부가 달라도 동일한 행동을 수행한다면 동일한 타입

⇒ 타입을 결정하는건 객체의 행동!

같은 타입의 객체들은 행동만 동일하면 서로 다른 데이터를 가질 수 있음 ⇒ 다형성!! (: 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력)

행동만 제공, 데이터 감추기 ⇒ 캡슐화!!

행동먼저 생각,

객체가 외분에 제공해야하는 책임 결정 책임을 수행하는데 적합한 데이터를 나중에 결정, 데이터를 책임수행에 필요한 외부 인터페이스 뒤로 캡슐화해야함

⇒ 책임주도 설계!

## 타**입의 계층**

**트럼프 계층**

트럽프 타입의 정의를 트럼프 인간 타입으로 바꾸는게 좋지않을까?

내연 - 트럼프 카드보다 특화된 행동을 하는 트럼프!

외연- 트럼프와 트럼프 인간을 나눔

트럼프 - 트럼프인간의 관계 =⇒ 일반화/특수화 관계!!

**일반화/특수화 관계**

일반적 타입 - 1234567

특수화 타입 -123456789

**슈퍼타입과 서브타입**

더 일반적 타입 ⇒ 슈퍼타입!

더 특수한 타입 ⇒ 서브타입!

슈퍼타입의 행동은 서브타입에게 자동 상속

그릴때 서브타입에선 슈퍼타입과 중복된 행위는 생략 가능

**일반화는 추상화를 위한 도구다**

공통점을 빼내 분류, 불필요한 특성 배제, 더 큰 의미를 가진 것으로 일반화~

## **정적 모델**

**타입의 목적**

타입 사용 이유!

인간의 인지능력으로는 시간에 따라 동적으로 변하는 객체의 복잡성을 극복하기 어려움

동적으로 변하는 객체의 상태를 정적인 관점에서 표현 가능!

**그래서 결국 타입은 추상화다**

타입은 추상화!?

시간에 따른 객체의 상태변경이라는 복잡성을 단순화할 수 있는 좋은 방법

**동적 모델과 정적 모델**

객체의 스냅샷 : 객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐. → 동적모델

동적모델(객체의 상태변화와 행동 포착)

타입모델 : 모든 상태와 모든 행동을 시간에 독립적으로 표현 → 정적모델

클래스작성 -정적인 관점

실행, 디버깅 - 동적인 관점

둘다 잘 다뤄야한다!

**클래스**

정적 모델은 클래스를 이용해 구현 → 타입을 구현하는 가장 보편적 방법은 클래스를 이용하는 것

클래스와 타입을 동일시하면 안된다. 코드재사용에도 사용하니깐!

객체를 분류하는 기준은 타입이고 타입을 나누는 기준은 객체가 수행하는 행동!!

동적으로 변하는 객체의 상태와 상태를 변경하는 행위가 중요!