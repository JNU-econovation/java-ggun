# Chp2. 이상한 나라의 객체

<aside>
💡 객체지향과 인지능력?

</aside>

- 사람 → 인지능력 이용 → 객체 식별&분류 → 세상 이해

<aside>
💡 객체의 세계 == 이상한 나라인가?

</aside>

- 이 말은 실세계와 객체의 세계가 유사하지만, 본질적으로 다르다는 의미?

<aside>
💡 앨리스==객체?(.feat 이상한나라의 앨리스)

</aside>

- 앨리스의 행동 → 앨리스의 키를 변화시킨다.
- 앨리스의 상태 → 앨리스의 행동에 따라 변화된다.
- 즉, 상태를 결정하는 것은 행동이지만, 행동의 결과를 결정하는 것은 상태이다!
    - 행동의 결과는 상태에 의존적이다.
- 앨리스?
    - 앨리스는 상태를 가지며 상태는 변경가능하다
    - 앨리스의 상태를 변경시키는 것은 앨리스의 행동이다.
        - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
        - 행동의 순서가 결과에 영향을 미친다.
    - 앨리스는 어떤 상태에 있더라도 유일하게 식별 가능하다.

<aside>
💡 말하고 싶은게 뭘까?

</aside>

- 객체는 상태, 행동, 식별자(identity)를 지닌 실체
    - 객체는 사물일 수도, 추상적인 개념일 수도 있다.
    - 식별자 : 구별이 가능
    - 상태 : 변경 가능함
    - 행동 : 특징적

<aside>
💡 상태가 왜 필요할까?

</aside>

- 항공권을 발권하지 않으면, 비행기를 못탄다
- 자판기에 금액을 투입하지 않으면, 음료를 선택하지 못한다.
- 상태 == 행동의 과정과 결과를 단순하게 기술한 개념
- 상태를 이용하면 행동의 결과를 쉽게 예측하고 설명할 수 있다. ⇒ 인지과부하 줄일 수 있다

<aside>
💡 상태와 프로퍼티?

</aside>

- 단순한 값은 객체가 아니다!
    - 음식의 양, 문이 열려있는지 여부, 속도 == 객체의 상태 ⇒ 객체의 특성을 표현하는데 사용. 객체x
- 특정한 상황
    - 객체를 사용해 다른 객체 상태를 표현해야하는 경우
        - 객체의 상태 일부를 객체로 표현하면 된다!
        - 예) 앨리스가 음료를 들고있는지 여부 → 음료를 객체로 표현
            - 앨리스 객체와 음료 객체는 서로 연결됨
- 프로퍼티란
    - 객체의 상태를 구성하는 모든 특징을 객체의 프로퍼티라고 한다.
    - “프로퍼티”는 고정되기 때문에 정적임.
    - “프로퍼티 값”은 시간에 따라 변경되므로 동적임
- 링크(link)
    - 객체와 객체 사이의 의미있는 연결
    - 링크가 존재 ⇒ 요청(메시지)을 주고 받을 수 있다.
- 속성(attribute)
    - 객체를 구성하는 단순한 값
    - ex) 앨리스의 키, 위치

<aside>
💡 외부의 객체가 직접적으로 객체의 상태를 바꾸지 못한다면, 간접적으로 객체의 상태를 변경하거나 조회할 수 있는 방법이 있을까?

</aside>

- 행동
    - 간접적으로 객체의 상태를 변경하게 할 수 있다.
    - 객체 스스로 행동에 의해 상태가 변경됨 ⇒ 객체의 자율성 보장
    - 행동은 외부에 가시적이어야 한다.(객체는 행동을 통해 다른 객체와의 협력에 참여하므로)
- 부수효과(side effect)
    - 객체의 행동에 의해 객체의 상태가 변경되는 것
- 객체의 행동으로 발생하는 부수효과
    - 객체 자신의 상태 변경
    - 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

<aside>
💡 상태와 행동의 관계는?

</aside>

- 객체의 행동은 상태에 영향을 받는다
- 객체의 행동은 상태를 변경시킨다

<aside>
💡 객체의 협력?

</aside>

- 객체간 협력 == 다른 객체에게 요청을 보내는 것
    - 수신한 객체는 요청을 처리하기 위해 적절한 방법에 따라 행동

<aside>
💡 상태 캡슐화는 뭘까?

</aside>

- 객체는 자신의 상태를 스스로 관리하는 자율적 존재
- 메시지 송신자는 메시지 수신자의 상태 변경에 대해 알 수 없다 == 캡슐화
- 행동 ⇒ 외부 노출
- 상태 ⇒ 캡슐화 ⇒ 객체의 자율성 높임 ⇒ 협력 단순, 유연하게 만듦

<aside>
💡 객체의 자율성이 높아지면 객체의 지능도 높아진다고 하는데, 객체의 지능이 뭘까?

</aside>

<aside>
💡 값과 객체의 차이점

</aside>

- 식별자 = 객체를 구별할 수 있는 특정한 프로퍼티
- 값 ⇒ 식별자를 가지지 않음
    - 값은 상태가 변하지 않는다 ⇒ 불변 상태(immutable state)
    - 값이 같은지 여부 ⇒ 상태가 같은지 이용해 판단 == 동등성(equality)
    - 즉, 값은 상태만을 이용해 동등성을 판단한다. ⇒ 식별자 필요없음
- 객체 ⇒ 식별자를 가진다.
    - 객체는 시간에 따라 변경되는 상태 포함하며, 행동을 통해 상태를 변경한다. ⇒ 가변상태(mutable state)
    - 두 객체의 상태가 같더라도 독립적인 별개의 객체! ⇒ 왜? 식별자가 다르니까
    - 식별자를 기반으로 객체가 같은지 판단하는 성질 ⇒ 동일성(identical)
    - 즉, 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다.

<aside>
💡 인스턴스와 객체의 차이점?

</aside>

<aside>
💡 여러가지 객체

</aside>

- 참조 객체 & 엔티티 : 식별자를 지닌 전통적인 의미의 객체
- 값 객체 : 식별자를 가지지 않는 값

<aside>
💡 기계로서의 객체란?

</aside>

- 사각형 버튼 : 상태 변경하는 명령
- 둥근 버튼 : 상태를 조회하는 쿼리
- 상태는 버튼에의해 유발되는 행동에의해서만 접근 가능 ⇒ 상태와 행동이 하나의 단위로 캡슐화 됨

<aside>
💡 행동이 상태를 결정한다.

</aside>

- 초심자가 빠지는 함정
    - 상태를 중심으로 객체를 바라보는 것
    - 객체에 필요한 상태 결정 후 상태에 필요한 행동을 취함 → 설계에 나쁜 영향
- 왜?
    - 상태를 먼저 결정할 경우 캡슐화가 저해된다.
    - 객체를 협력자가 아닌 고립된 섬으로 만든다.
    - 객체의 재사용성이 저하된다.
- 그럼 어떻게 해야할까?
    - 행동에 초점을 맞춘다.
    - 즉, 객체의 적합성을 결정하는 것 == 객체의 행동
    - 행동 결정 → 행동에 적절한 상태 선택

<aside>
💡 은유와 객체

</aside>

- 현실세계와 객체지향 세계 사이의 관계를 조금 더 정확하게 설명하는 방법 ⇒ 은유
- 결국 하고싶은 말?
    - 객체 지향 설계자로서 우리의 목적은 현실 모방이 아니라, 이상한 나라를 창조하기만 하면 된다.(현실을 닮을 필요 없다.)